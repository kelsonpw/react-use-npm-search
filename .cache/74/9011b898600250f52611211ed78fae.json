{"id":"Focm","dependencies":[{"name":"/Users/kelsonwarner/oss/react-use-npm-search/package.json","includedInParent":true,"mtime":1560024171223},{"name":"react","loc":{"line":1,"column":36},"parent":"/Users/kelsonwarner/oss/react-use-npm-search/src/index.js","resolved":"/Users/kelsonwarner/oss/react-use-npm-search/node_modules/react/index.js"},{"name":"dlv","loc":{"line":2,"column":16},"parent":"/Users/kelsonwarner/oss/react-use-npm-search/src/index.js","resolved":"/Users/kelsonwarner/oss/react-use-npm-search/node_modules/dlv/dist/dlv.umd.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"react\"),e=r(require(\"dlv\"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){return a(t)||o(t,e)||u()}function u(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function o(t,e){var r=[],n=!0,u=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(c){u=!0,o=c}finally{try{n||null==i.return||i.return()}finally{if(u)throw o}}return r}function a(t){if(Array.isArray(t))return t}var i=function(t){return fetch(\"https://api.npms.io/v2/search?q=\".concat(t)).then(function(t){return t.json()})},c={},f=function(t){return function(r){return(0,e.default)(r,t)}};function l(e){var r=e.term,u=e.fields,o=e.amount,a=r.toLowerCase().replace(/ /g,\"+\"),l=n((0,t.useState)(c[a]),2),s=l[0],d=l[1];return(0,t.useEffect)(function(){c[a]?d(c[a]):i(a).then(function(t){c[a]=t.results.slice(0,o||10).map(f(\"package.\"+u.join(\".\"))),d(c[a])})},[a]),s}var s=l;exports.default=s;"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":0}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":13}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":20}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":35}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":43}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":56}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":57}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":64}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":68}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":76}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":89}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":114}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":116}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":118}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":134}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":143}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":145}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":148}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":155}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":158}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":160}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":171}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":173}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":174}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":182}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":185}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":194}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":196}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":198}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":201}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":208}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":210}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":214}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":216}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":218}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":222}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":226}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":235}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":239}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":245}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":249}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":259}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":315}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":324}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":326}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":328}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":331}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":335}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":337}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":340}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":343}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":345}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":348}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":350}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":357}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":359}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":363}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":367}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":371}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":373}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":375}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":377}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":384}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":398}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":401}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":403}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":405}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":413}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":421}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":423}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":428}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":430}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":438}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":441}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":443}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":452}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":455}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":458}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":462}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":468}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":471}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":474}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":476}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":478}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":480}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":488}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":492}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":495}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":501}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":503}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":511}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":513}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":522}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":530}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":533}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":535}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":541}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":544}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":551}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":553}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":562}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":564}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":567}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":570}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":576}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":584}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":587}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":594}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":596}},{"source":"index.js","name":"fetchPath","original":{"line":4,"column":6},"generated":{"line":1,"column":600}},{"source":"index.js","original":{"line":4,"column":18},"generated":{"line":1,"column":602}},{"source":"index.js","name":"path","original":{"line":4,"column":18},"generated":{"line":1,"column":611}},{"source":"index.js","name":"fetch","original":{"line":5,"column":2},"generated":{"line":1,"column":614}},{"source":"index.js","name":"fetch","original":{"line":5,"column":2},"generated":{"line":1,"column":621}},{"source":"index.js","name":"path","original":{"line":5,"column":43},"generated":{"line":1,"column":627}},{"source":"index.js","name":"path","original":{"line":5,"column":43},"generated":{"line":1,"column":662}},{"source":"index.js","name":"path","original":{"line":5,"column":43},"generated":{"line":1,"column":669}},{"source":"index.js","name":"then","original":{"line":5,"column":51},"generated":{"line":1,"column":673}},{"source":"index.js","original":{"line":5,"column":56},"generated":{"line":1,"column":678}},{"source":"index.js","name":"res","original":{"line":5,"column":56},"generated":{"line":1,"column":687}},{"source":"index.js","name":"res","original":{"line":5,"column":63},"generated":{"line":1,"column":690}},{"source":"index.js","name":"res","original":{"line":5,"column":63},"generated":{"line":1,"column":697}},{"source":"index.js","name":"json","original":{"line":5,"column":67},"generated":{"line":1,"column":699}},{"source":"index.js","name":"cache","original":{"line":7,"column":6},"generated":{"line":1,"column":709}},{"source":"index.js","original":{"line":7,"column":14},"generated":{"line":1,"column":711}},{"source":"index.js","name":"delve","original":{"line":8,"column":6},"generated":{"line":1,"column":714}},{"source":"index.js","original":{"line":8,"column":14},"generated":{"line":1,"column":716}},{"source":"index.js","name":"path","original":{"line":8,"column":14},"generated":{"line":1,"column":725}},{"source":"index.js","original":{"line":8,"column":22},"generated":{"line":1,"column":728}},{"source":"index.js","original":{"line":8,"column":22},"generated":{"line":1,"column":735}},{"source":"index.js","name":"obj","original":{"line":8,"column":22},"generated":{"line":1,"column":744}},{"source":"index.js","original":{"line":8,"column":29},"generated":{"line":1,"column":747}},{"source":"index.js","original":{"line":8,"column":29},"generated":{"line":1,"column":754}},{"source":"index.js","name":"obj","original":{"line":8,"column":33},"generated":{"line":1,"column":756}},{"source":"index.js","name":"obj","original":{"line":8,"column":33},"generated":{"line":1,"column":758}},{"source":"index.js","name":"obj","original":{"line":8,"column":33},"generated":{"line":1,"column":767}},{"source":"index.js","name":"path","original":{"line":8,"column":38},"generated":{"line":1,"column":769}},{"source":"index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":774}},{"source":"index.js","name":"usePackageSearch","original":{"line":10,"column":9},"generated":{"line":1,"column":783}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":785}},{"source":"index.js","name":"term","original":{"line":10,"column":28},"generated":{"line":1,"column":788}},{"source":"index.js","name":"term","original":{"line":10,"column":28},"generated":{"line":1,"column":792}},{"source":"index.js","name":"term","original":{"line":10,"column":28},"generated":{"line":1,"column":794}},{"source":"index.js","name":"term","original":{"line":10,"column":28},"generated":{"line":1,"column":796}},{"source":"index.js","name":"fields","original":{"line":10,"column":34},"generated":{"line":1,"column":801}},{"source":"index.js","name":"fields","original":{"line":10,"column":34},"generated":{"line":1,"column":803}},{"source":"index.js","name":"fields","original":{"line":10,"column":34},"generated":{"line":1,"column":805}},{"source":"index.js","name":"amount","original":{"line":10,"column":42},"generated":{"line":1,"column":812}},{"source":"index.js","name":"amount","original":{"line":10,"column":42},"generated":{"line":1,"column":814}},{"source":"index.js","name":"amount","original":{"line":10,"column":42},"generated":{"line":1,"column":816}},{"source":"index.js","name":"path","original":{"line":11,"column":8},"generated":{"line":1,"column":823}},{"source":"index.js","name":"term","original":{"line":11,"column":15},"generated":{"line":1,"column":825}},{"source":"index.js","name":"toLowerCase","original":{"line":11,"column":20},"generated":{"line":1,"column":827}},{"source":"index.js","name":"replace","original":{"line":11,"column":34},"generated":{"line":1,"column":841}},{"source":"index.js","original":{"line":11,"column":42},"generated":{"line":1,"column":849}},{"source":"index.js","original":{"line":11,"column":48},"generated":{"line":1,"column":854}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":859}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":861}},{"source":"index.js","original":{"line":12,"column":26},"generated":{"line":1,"column":864}},{"source":"index.js","name":"cache","original":{"line":12,"column":35},"generated":{"line":1,"column":866}},{"source":"index.js","name":"cache","original":{"line":12,"column":35},"generated":{"line":1,"column":868}},{"source":"index.js","name":"cache","original":{"line":12,"column":35},"generated":{"line":1,"column":878}},{"source":"index.js","name":"path","original":{"line":12,"column":41},"generated":{"line":1,"column":880}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":884}},{"source":"index.js","name":"data","original":{"line":12,"column":9},"generated":{"line":1,"column":887}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":889}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":891}},{"source":"index.js","name":"setData","original":{"line":12,"column":15},"generated":{"line":1,"column":894}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":896}},{"source":"index.js","original":{"line":10,"column":52},"generated":{"line":1,"column":898}},{"source":"index.js","name":"data","original":{"line":28,"column":9},"generated":{"line":1,"column":901}},{"source":"index.js","original":{"line":17,"column":12},"generated":{"line":1,"column":908}},{"source":"index.js","original":{"line":17,"column":12},"generated":{"line":1,"column":910}},{"source":"index.js","original":{"line":17,"column":12},"generated":{"line":1,"column":912}},{"source":"index.js","original":{"line":17,"column":12},"generated":{"line":1,"column":923}},{"source":"index.js","name":"cache","original":{"line":18,"column":9},"generated":{"line":1,"column":934}},{"source":"index.js","name":"path","original":{"line":18,"column":15},"generated":{"line":1,"column":936}},{"source":"index.js","name":"setData","original":{"line":24,"column":6},"generated":{"line":1,"column":939}},{"source":"index.js","name":"cache","original":{"line":24,"column":14},"generated":{"line":1,"column":941}},{"source":"index.js","name":"path","original":{"line":24,"column":20},"generated":{"line":1,"column":943}},{"source":"index.js","name":"fetchPath","original":{"line":19,"column":6},"generated":{"line":1,"column":947}},{"source":"index.js","name":"path","original":{"line":19,"column":16},"generated":{"line":1,"column":949}},{"source":"index.js","name":"then","original":{"line":19,"column":22},"generated":{"line":1,"column":952}},{"source":"index.js","original":{"line":19,"column":27},"generated":{"line":1,"column":957}},{"source":"index.js","name":"response","original":{"line":19,"column":27},"generated":{"line":1,"column":966}},{"source":"index.js","name":"cache","original":{"line":20,"column":8},"generated":{"line":1,"column":969}},{"source":"index.js","name":"path","original":{"line":20,"column":14},"generated":{"line":1,"column":971}},{"source":"index.js","name":"response","original":{"line":20,"column":28},"generated":{"line":1,"column":974}},{"source":"index.js","name":"results","original":{"line":20,"column":37},"generated":{"line":1,"column":976}},{"source":"index.js","name":"slice","original":{"line":15,"column":10},"generated":{"line":1,"column":984}},{"source":"index.js","original":{"line":15,"column":16},"generated":{"line":1,"column":990}},{"source":"index.js","name":"amount","original":{"line":15,"column":19},"generated":{"line":1,"column":992}},{"source":"index.js","original":{"line":15,"column":29},"generated":{"line":1,"column":995}},{"source":"index.js","name":"map","original":{"line":15,"column":33},"generated":{"line":1,"column":999}},{"source":"index.js","name":"delve","original":{"line":15,"column":37},"generated":{"line":1,"column":1003}},{"source":"index.js","original":{"line":15,"column":43},"generated":{"line":1,"column":1005}},{"source":"index.js","name":"fields","original":{"line":15,"column":56},"generated":{"line":1,"column":1016}},{"source":"index.js","name":"join","original":{"line":15,"column":63},"generated":{"line":1,"column":1018}},{"source":"index.js","original":{"line":15,"column":68},"generated":{"line":1,"column":1023}},{"source":"index.js","name":"setData","original":{"line":21,"column":8},"generated":{"line":1,"column":1030}},{"source":"index.js","name":"cache","original":{"line":21,"column":16},"generated":{"line":1,"column":1032}},{"source":"index.js","name":"path","original":{"line":21,"column":22},"generated":{"line":1,"column":1034}},{"source":"index.js","original":{"line":26,"column":5},"generated":{"line":1,"column":1041}},{"source":"index.js","name":"path","original":{"line":26,"column":6},"generated":{"line":1,"column":1042}},{"source":"index.js","name":"data","original":{"line":28,"column":9},"generated":{"line":1,"column":1046}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":1048}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":1052}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":1054}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":1056}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":1064}},{"source":"index.js","name":"usePackageSearch","original":{"line":31,"column":15},"generated":{"line":1,"column":1072}}],"sources":{"index.js":"import { useEffect, useState } from 'react';\nimport dlv from 'dlv';\n\nconst fetchPath = path =>\n  fetch(`https://api.npms.io/v2/search?q=${path}`).then(res => res.json());\n\nconst cache = {};\nconst delve = path => obj => dlv(obj, path);\n\nfunction usePackageSearch({ term, fields, amount }) {\n  const path = term.toLowerCase().replace(/ /g, '+');\n  const [data, setData] = useState(cache[path]);\n\n  const parse = items =>\n    items.slice(0, amount || 10).map(delve('package.' + fields.join('.')));\n\n  useEffect(() => {\n    if (!cache[path]) {\n      fetchPath(path).then(response => {\n        cache[path] = parse(response.results);\n        setData(cache[path]);\n      });\n    } else {\n      setData(cache[path]);\n    }\n  }, [path]);\n\n  return data;\n}\n\nexport default usePackageSearch;\n"},"lineCount":null}},"error":null,"hash":"14c907d8370723d2cc30c82fa535cebf","cacheData":{"env":{}}}